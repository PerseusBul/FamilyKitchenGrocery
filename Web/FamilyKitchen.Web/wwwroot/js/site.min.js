let connection=null;setupConnection=()=>{connection=(new SignalR.HubConnectionBuilder).withUrl("/carthub").build();connection.on("ReceiveOrderUpdate",n=>{document.getElementById("status").innerHTML=n});connection.on("NewOrder",function(n){document.getElementById("status").innerHTML="Someone order a "+n.product});connection.on("Finished",function(){});connection.start().catch(n=>console.error(n.toString()))};setupConnection();document.getElementById("submit").addEventListener("click",n=>{n.preventDefault();const t=document.getElementById("product").value,i=document.getElementById("size").value;fetch("/carthub",{method:"POST",body:JSON.stringify({product:t,size:i}),headers:{"content-type":"application/json"}}).then(n=>n.text()).then(n=>connection.invoke("GetUpdateForOrder",parseInt(n)))});